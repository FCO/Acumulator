<html>
	<head>
		<script src="Acumulator.js"></script>
	</head>
	<body>
		<script>
			document.addEventListener("DOMContentLoaded", function() {
				window.acumulator = new Acumulator({
					onoff:	[
							"the_last_one",
							function(cmd){
								console.log("callback of onoff");
								var stat = onoff.querySelector("span#status");
								if(cmd == "toggle") {
									stat.innerHTML = stat.innerHTML == "on" ? "off" : "on";
								}
							}
						],
					sum:	[
							"somatory",
							function(value){
								var stat = sum.querySelector("span#status");
								stat.innerHTML = parseInt(stat.innerHTML) + value;
							}
						]
				});
				window.acumulator.waiting_time = 500;
			}, false);
		</script>
		<button id="onoff" onclick="window.acumulator.group[this.id].push('toggle')">
		<span id="status">off</span>
		</button>
		<button id="sum" onclick="window.acumulator.group[this.id].push(1)">
		<span id="status">0</span>
		</button>
	</body>
</html>
